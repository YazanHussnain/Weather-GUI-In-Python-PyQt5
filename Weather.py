# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'Weather.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtCore import QDate, QTime, Qt
import requests


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.setFixedSize(290, 526)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.label = QtWidgets.QLabel(self.centralwidget)
        self.label.setGeometry(QtCore.QRect(-4, -1, 321, 531))
        self.label.setText("")
        self.label.setPixmap(QtGui.QPixmap("E:\\Semester 4\\Weather App\\back.png"))
        self.label.setScaledContents(True)
        self.label.setObjectName("label")
        self.label_3 = QtWidgets.QLabel(self.centralwidget)
        self.label_3.setGeometry(QtCore.QRect(20, 10, 71, 61))
        self.label_3.setText("")
        self.label_3.setPixmap(QtGui.QPixmap("E:\\Semester 4\\Weather App\\cloud1.png"))
        self.label_3.setScaledContents(True)
        self.label_3.setObjectName("label_3")
        self.label_2 = QtWidgets.QLabel(self.centralwidget)
        self.label_2.setGeometry(QtCore.QRect(90, 20, 161, 51))
        font = QtGui.QFont()
        font.setFamily("Segoe UI Black")
        font.setPointSize(26)
        font.setBold(True)
        font.setWeight(75)
        self.label_2.setFont(font)
        self.label_2.setStyleSheet("color:white;")
        self.label_2.setObjectName("label_2")
        self.W_name = QtWidgets.QLineEdit(self.centralwidget)
        self.W_name.setGeometry(QtCore.QRect(10, 80, 191, 31))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(10)
        font.setBold(True)
        font.setWeight(75)
        self.W_name.setFont(font)
        self.W_name.setStyleSheet("border:2px solid white;\n"
"background:transparent;\n"
"color:white;")
        self.W_name.setObjectName("W_name")
        self.search_btn = QtWidgets.QPushButton(self.centralwidget, clicked = lambda: self.show_weather())
        self.search_btn.setGeometry(QtCore.QRect(210, 80, 71, 31))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.search_btn.setFont(font)
        self.search_btn.setStyleSheet("/* Digits 0-9 Stylesheet */\n"
"#search_btn{\n"
"   border: 2px solid white;\n"
"color:white;\n"
"}\n"
"#search_btn:pressed {\n"
"    background-color: qlineargradient(x1: 0, y1: 0, x2: 0, y2: 1,\n"
"                                      stop: 0 #0096FF, stop: 1 #0096FF);\n"
"}\n"
"\n"
"/* End Digits 0-9 Stylesheet */\n"
"")
        self.search_btn.setObjectName("search_btn")
        self.city = QtWidgets.QLabel(self.centralwidget)
        self.city.setGeometry(QtCore.QRect(0, 120, 291, 21))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.city.setFont(font)
        self.city.setStyleSheet("color:white;")
        self.city.setText("")
        self.city.setAlignment(QtCore.Qt.AlignCenter)
        self.city.setObjectName("city")
        self.W_date = QtWidgets.QLabel(self.centralwidget)
        self.W_date.setGeometry(QtCore.QRect(0, 140, 291, 20))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.W_date.setFont(font)
        self.W_date.setStyleSheet("color:white;")
        self.W_date.setText("")
        self.W_date.setAlignment(QtCore.Qt.AlignCenter)
        self.W_date.setObjectName("W_date")
        self.W_temp = QtWidgets.QLabel(self.centralwidget)
        self.W_temp.setGeometry(QtCore.QRect(0, 150, 291, 81))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(48)
        font.setBold(True)
        font.setWeight(75)
        self.W_temp.setFont(font)
        self.W_temp.setStyleSheet("color:white;")
        self.W_temp.setText("")
        self.W_temp.setAlignment(QtCore.Qt.AlignCenter)
        self.W_temp.setObjectName("W_temp")
        self.feels_like = QtWidgets.QLabel(self.centralwidget)
        self.feels_like.setGeometry(QtCore.QRect(0, 230, 291, 21))
        font = QtGui.QFont()
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.feels_like.setFont(font)
        self.feels_like.setStyleSheet("color:white;")
        self.feels_like.setText("")
        self.feels_like.setAlignment(QtCore.Qt.AlignCenter)
        self.feels_like.setObjectName("feels_like")
        self.descrip = QtWidgets.QLabel(self.centralwidget)
        self.descrip.setGeometry(QtCore.QRect(0, 260, 291, 21))
        font = QtGui.QFont()
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.descrip.setFont(font)
        self.descrip.setStyleSheet("color:white;")
        self.descrip.setText("")
        self.descrip.setAlignment(QtCore.Qt.AlignCenter)
        self.descrip.setObjectName("descrip")
        self.label_9 = QtWidgets.QLabel(self.centralwidget)
        self.label_9.setGeometry(QtCore.QRect(10, 290, 271, 71))
        self.label_9.setStyleSheet("border: solid 10px grey;  background-color:rgba(80,80,80,127); color:rgb(0,255,0);\n"
"border-radius:18px;")
        self.label_9.setText("")
        self.label_9.setObjectName("label_9")
        self.label_10 = QtWidgets.QLabel(self.centralwidget)
        self.label_10.setGeometry(QtCore.QRect(20, 310, 16, 16))
        self.label_10.setText("")
        self.label_10.setPixmap(QtGui.QPixmap("E:\\Semester 4\\Weather App\\h.png"))
        self.label_10.setScaledContents(True)
        self.label_10.setObjectName("label_10")
        self.H_T = QtWidgets.QLabel(self.centralwidget)
        self.H_T.setGeometry(QtCore.QRect(38, 307, 101, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.H_T.setFont(font)
        self.H_T.setStyleSheet("color:white;")
        self.H_T.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.H_T.setObjectName("H_T")
        self.humidity = QtWidgets.QLabel(self.centralwidget)
        self.humidity.setGeometry(QtCore.QRect(40, 320, 101, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.humidity.setFont(font)
        self.humidity.setStyleSheet("color:white;")
        self.humidity.setText("")
        self.humidity.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.humidity.setObjectName("humidity")
        self.line = QtWidgets.QFrame(self.centralwidget)
        self.line.setGeometry(QtCore.QRect(145, 307, 3, 35))
        self.line.setFrameShape(QtWidgets.QFrame.VLine)
        self.line.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.line.setObjectName("line")
        self.W_time = QtWidgets.QLabel(self.centralwidget)
        self.W_time.setGeometry(QtCore.QRect(0, 370, 291, 41))
        font = QtGui.QFont()
        font.setFamily("Segoe UI")
        font.setPointSize(18)
        font.setBold(True)
        font.setWeight(75)
        self.W_time.setFont(font)
        self.W_time.setStyleSheet("color:white;")
        self.W_time.setText("")
        self.W_time.setAlignment(QtCore.Qt.AlignCenter)
        self.W_time.setObjectName("W_time")
        self.lat_T = QtWidgets.QLabel(self.centralwidget)
        self.lat_T.setGeometry(QtCore.QRect(0, 420, 291, 21))
        font = QtGui.QFont()
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.lat_T.setFont(font)
        self.lat_T.setStyleSheet("color:white;")
        self.lat_T.setAlignment(QtCore.Qt.AlignCenter)
        self.lat_T.setObjectName("lat_T")
        self.logn_T = QtWidgets.QLabel(self.centralwidget)
        self.logn_T.setGeometry(QtCore.QRect(0, 470, 291, 21))
        font = QtGui.QFont()
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.logn_T.setFont(font)
        self.logn_T.setStyleSheet("color:white;")
        self.logn_T.setAlignment(QtCore.Qt.AlignCenter)
        self.logn_T.setObjectName("logn_T")
        self.W_latitude = QtWidgets.QLabel(self.centralwidget)
        self.W_latitude.setGeometry(QtCore.QRect(0, 440, 291, 21))
        font = QtGui.QFont()
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.W_latitude.setFont(font)
        self.W_latitude.setStyleSheet("color:white;")
        self.W_latitude.setText("")
        self.W_latitude.setAlignment(QtCore.Qt.AlignCenter)
        self.W_latitude.setObjectName("W_latitude")
        self.W_longitude = QtWidgets.QLabel(self.centralwidget)
        self.W_longitude.setGeometry(QtCore.QRect(0, 490, 291, 21))
        font = QtGui.QFont()
        font.setPointSize(11)
        font.setBold(True)
        font.setWeight(75)
        self.W_longitude.setFont(font)
        self.W_longitude.setStyleSheet("color:white;")
        self.W_longitude.setText("")
        self.W_longitude.setAlignment(QtCore.Qt.AlignCenter)
        self.W_longitude.setObjectName("W_longitude")
        self.W_T = QtWidgets.QLabel(self.centralwidget)
        self.W_T.setGeometry(QtCore.QRect(150, 307, 101, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.W_T.setFont(font)
        self.W_T.setStyleSheet("color:white;")
        self.W_T.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.W_T.setObjectName("W_T")
        self.wind = QtWidgets.QLabel(self.centralwidget)
        self.wind.setGeometry(QtCore.QRect(150, 320, 101, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.wind.setFont(font)
        self.wind.setStyleSheet("color:white;")
        self.wind.setText("")
        self.wind.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.wind.setObjectName("wind")
        self.Cel = QtWidgets.QLabel(self.centralwidget)
        self.Cel.setGeometry(QtCore.QRect(180, 170, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(16)
        font.setBold(True)
        font.setWeight(75)
        self.Cel.setFont(font)
        self.Cel.setStyleSheet("color:white;")
        self.Cel.setText("")
        self.Cel.setAlignment(QtCore.Qt.AlignCenter)
        self.Cel.setObjectName("Cel")
        MainWindow.setCentralWidget(self.centralwidget)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def show_weather(self):
        try:
            weather_api = "You Api Key"
            data_url = "https://api.openweathermap.org/data/2.5/weather?q=" + self.W_name.text() + "&appid=" + weather_api
            Data = requests.get(data_url).json()
            temp = int(Data['main']['temp']) - 273.16
            feel_temp = int(Data['main']['feels_like']) - 273.16
            humidity = Data['main']['humidity']
            weather = Data['weather'][0]['description']
            W_wind = Data['wind']['speed']
            self.city.setText(self.W_name.text())

            self.W_temp.setText(str(int(temp)))
            now = QDate.currentDate()
            self.W_date.setText(now.toString(Qt.DefaultLocaleLongDate))
            self.Cel.setText("C")
            self.feels_like.setText(f"Feels Like: {int(feel_temp)} Degrees")
            self.descrip.setText(weather)
            self.humidity.setText(f"{humidity}%")
            self.wind.setText(f"{W_wind} km/h")
            time = QTime.currentTime()
            self.W_time.setText(time.toString(Qt.DefaultLocaleLongDate))
            lat = Data['coord']['lat']
            lon = Data['coord']['lon']
            self.W_latitude.setText(str(lat))
            self.W_longitude.setText(str(lon))
        except:
            self.W_date.setText("Something Wrong Happened...")
    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.label_2.setText(_translate("MainWindow", "Weather"))
        self.search_btn.setText(_translate("MainWindow", "Search"))
        self.H_T.setText(_translate("MainWindow", "Humidity"))
        self.lat_T.setText(_translate("MainWindow", "Latitude"))
        self.logn_T.setText(_translate("MainWindow", "Longitude"))
        self.W_T.setText(_translate("MainWindow", "Wind"))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
